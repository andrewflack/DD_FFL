---
title: Fantasy Football Elo Ratings - Week 6 Update
author: Andrew Flack
date: '2017-10-17'
slug: fantasy-football-elo-ratings-week-6-update
categories: []
tags: []
output: 
  blogdown::html_page
params:
  n_sims: 1000
  current_season: 2017
  weeks_played: 6
---

```{r echo = FALSE, include = FALSE}
knitr::opts_knit$set(root.dir = '../.')
```
```{r echo = FALSE, include=FALSE}
library(ProjectTemplate)
load.project()
```

```{r echo = FALSE}
knitr::read_chunk('rmds/in_season_weekly_updates.R')
```

```{r echo = FALSE}
<<current_ratings>>
<<wins_ytd>>
<<simulate_season>>
<<sim_dashboard>>

leader <- sim_dashboard[which.max(sim_dashboard$p_1st), "owner"]
leader_p_win <- sim_dashboard[which.max(sim_dashboard$p_1st), "p_1st"]
```

## Dashboard

Through `r params$weeks_played` weeks, `r leader` is our most likely regular season champion, with a `r leader_p_win*100`% chance of taking home the title.

```{r echo = FALSE}
sim_dashboard %>% 
  select(-current_season, -weeks_played) %>% 
  kable(col.names = c("Owner", "Rating", "1 Week Change", "YTD Wins", "Sim Wins", "P(1st)"),
        align = c("c", "c", "c", "c", "c", "c"))
```

## Predicted Win Totals

The graphic below shows the distribution of possible win totals for each owner generated by simulating the remaining `r 13-params$weeks_played` weeks of the season `r params$n_sims` times.

```{r echo = FALSE, fig.align = "center", fig.height = 8}
<<predicted_wins_graphic>>
```

## How the Odds Have Changed
```{r echo = FALSE, message = FALSE, fig.align = "center", fig.width = 9}
<<win_probs_through_season>>
```

## Predictions for Week `r params$weeks_played + 1`
```{r echo = FALSE}
<<next_week_matchups>>
kable(next_week_matchups, col.names = c("Matchup", "Probability"), align = c('l', 'c'))
```
