---
title: 2017 Fantasy Football Season Preview
author: Andrew Flack
date: '2017-09-05'
slug: 2017-fantasy-football-season-preview
categories: []
tags: []
output: 
  blogdown::html_page
params:
  n_sims: 5000
  current_season: 2017
  weeks_played: 0
---

```{r echo = FALSE, include = FALSE}
knitr::opts_knit$set(root.dir = '../.')
```
```{r echo = FALSE, include=FALSE}
library(ProjectTemplate)
load.project()
```

```{r echo = FALSE}
knitr::read_chunk('rmds/season_preview.R')
```

```{r echo = FALSE}
<<current_ratings>>
<<wins_ytd>>
<<simulate_season>>
<<sim_dashboard>>

leader <- sim_dashboard[which.max(sim_dashboard$p_1st), "owner"]
leader_p_win <- sim_dashboard[which.max(sim_dashboard$p_1st), "p_1st"]
```

## The `r params$current_season` season is here! 

It's a clean slate, with all owners tied for first place at 0 wins. Will this be your year?

Although no games have been played, we do know a little bit about the strength of each owner using Elo ratings, so we can make some early predictions. Elo ratings from the end of the `r params$current_season - 1` season have been reverted back towards the mean slightly, and are shown in the table below. 

Simulating the `r params$current_season` season `r params$n_sims` times, `r leader` is our most likely regular season champion, with a `r round(leader_p_win*100, 1)`% chance of taking home the title.

```{r echo = FALSE}
sim_dashboard %>% 
  select(-current_season, -weeks_played) %>% 
  kable(col.names = c("Owner", "Rating", "YTD Wins", "Sim Wins", "P(1st)"),
        align = c("c", "c", "c", "c", "c"))
```

## Predicted Win Totals

The graphic below shows the distribution of possible win totals for each owner generated by simulating the remaining `r 13-params$weeks_played` weeks of the season `r params$n_sims` times.

```{r echo = FALSE, fig.align = "center", fig.height = 8}
<<predicted_wins_graphic>>
```

## Predictions for Week `r params$weeks_played + 1`
```{r echo = FALSE}
<<next_week_matchups>>
kable(next_week_matchups, col.names = c("Matchup", "Probability"), align = c('l', 'c'))
```


